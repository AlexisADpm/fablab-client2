<div class="flex justify-end px-4 md:px-8 pt-6">
  <back-button></back-button>
</div>
<section class="flex flex-col gap-10 p-4 md:p-8">
  <div
    class="bg-fablab-card-bg rounded-2xl shadow-lg p-6 md:p-10 border border-fablab-border"
  >
    <div class="flex flex-col lg:flex-row gap-8">
      <figure
        class="relative w-full lg:w-1/2 h-64 md:h-80 bg-fablab-border rounded-2xl overflow-hidden flex items-center justify-center"
      >
        @if(!projectDataGetter()?.imgUrl){
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.2"
          stroke="currentColor"
          class="w-48 h-48 text-fablab-text-secondary"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"
          />
        </svg>
        } @else {
        <img
          [src]="projectDataGetter()?.imgUrl"
          alt="imagen_proyecto"
          class="w-full h-full object-cover object-center"
        />
        }
      </figure>
      <div>
        <h2 class="text-3xl font-bold mb-3 text-fablab-primary">
          {{ projectDataGetter()?.title }}
        </h2>
        <p class="text-fablab-text-primary mb-4 leading-relaxed">
          {{
            projectDataGetter()?.description ||
              "No hay descripción disponible para este proyecto."
          }}
        </p>

        <ul class="space-y-1 text-sm">
          <li>
            <div class="flex gap-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"
                />
              </svg>

              <strong>Fecha:</strong>
              {{ projectDataGetter()?.date | date }}
            </div>
          </li>
          <li>
            <div class="flex gap-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m7.875 14.25 1.214 1.942a2.25 2.25 0 0 0 1.908 1.058h2.006c.776 0 1.497-.4 1.908-1.058l1.214-1.942M2.41 9h4.636a2.25 2.25 0 0 1 1.872 1.002l.164.246a2.25 2.25 0 0 0 1.872 1.002h2.092a2.25 2.25 0 0 0 1.872-1.002l.164-.246A2.25 2.25 0 0 1 16.954 9h4.636M2.41 9a2.25 2.25 0 0 0-.16.832V12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 12V9.832c0-.287-.055-.57-.16-.832M2.41 9a2.25 2.25 0 0 1 .382-.632l3.285-3.832a2.25 2.25 0 0 1 1.708-.786h8.43c.657 0 1.281.287 1.709.786l3.284 3.832c.163.19.291.404.382.632M4.5 20.25h15A2.25 2.25 0 0 0 21.75 18v-2.625c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125V18a2.25 2.25 0 0 0 2.25 2.25Z"
                />
              </svg>

              <strong>Categoría:</strong>
              {{ projectDataGetter()?.categoria }}
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  @if(projectDataGetter()?.participantes &&
  projectDataGetter()?.participantes?.length! > 0) {

  <div class="space-y-6 pt-8 border-t border-fablab-border">
    <h2
      class="text-3xl font-bold text-fablab-text-primary mb-6 flex items-center gap-3"
    >
      <div class="p-2 bg-fablab-primary text-black rounded-lg">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 18.75a7.5 7.5 0 0 1 14.998 0H4.501Z"
          />
        </svg>
      </div>
      Participantes del Proyecto
    </h2>

    @for(participante of projectDataGetter()?.participantes; track $index){
    <div
      class="relative overflow-hidden bg-fablab-card-bg rounded-3xl shadow-xl border border-fablab-border p-8 md:p-10 flex flex-col md:flex-row items-center gap-8 md:gap-12 transition transform hover:shadow-2xl"
    >
      <div
        class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-fablab-primary/20 rounded-full blur-2xl"
      ></div>

      <div class="relative group">
        <div
          class="absolute -inset-1 from-fablab-primary bg-fablab-accent-dark rounded-full blur opacity-40 transition duration-500"
        ></div>
        <img
          [src]="participante.foto || 'assets/img/default-avatar.png'"
          [alt]="'Foto de ' + participante.nombre"
          class="relative w-40 h-40 md:w-48 md:h-48 rounded-full object-cover border-4 border-fablab-bg shadow-md"
          onerror="this.src='assets/img/default-avatar.png'"
        />
        <div
          class="absolute bottom-2 right-2 bg-fablab-primary bg-fablab-accent text-black text-xs font-bold px-3 py-1 rounded-full shadow-sm border-2 border-white"
        >
          Autor
        </div>
      </div>

      <div class="flex-1 text-center md:text-left space-y-4 z-10">
        <div>
          <h3
            class="text-4xl font-extrabold text-fablab-text-primary tracking-tight leading-tight"
          >
            {{ participante.nombre }}
          </h3>
          <p class="text-xl font-medium text-fablab-primary mt-1">
            {{ participante.carrera }}
          </p>
        </div>

        <div
          class="flex flex-col md:flex-row items-center md:items-start gap-4 text-fablab-text-secondary text-sm"
        >
          <div
            class="flex items-center gap-2 bg-fablab-bg px-4 py-2 rounded-lg border border-fablab-border"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-5 text-fablab-text-light"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"
              />
            </svg>
            <span class="font-mono font-semibold">21.450.272-0</span>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
  }
</section>
